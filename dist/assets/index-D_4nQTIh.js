(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(n){if(n.ep)return;n.ep=!0;const t=r(n);fetch(n.href,t)}})();var g=function(){return g=Object.assign||function(p){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(p[t]=r[t])}return p},g.apply(this,arguments)};function L(e,p){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&p.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)p.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function z(e,p,r,i){function n(t){return t instanceof r?t:new r(function(s){s(t)})}return new(r||(r=Promise))(function(t,s){function u(l){try{o(i.next(l))}catch(W){s(W)}}function d(l){try{o(i.throw(l))}catch(W){s(W)}}function o(l){l.done?t(l.value):n(l.value).then(u,d)}o((i=i.apply(e,[])).next())})}function U(e,p){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},i,n,t,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(o){return function(l){return d([o,l])}}function d(o){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(r=0)),r;)try{if(i=1,n&&(t=o[0]&2?n.return:o[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,o[1])).done)return t;switch(n=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,n=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){r.label=o[1];break}if(o[0]===6&&r.label<t[1]){r.label=t[1],t=o;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(o);break}t[2]&&r.ops.pop(),r.trys.pop();continue}o=p.call(e,r)}catch(l){o=[6,l],n=0}finally{i=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function O(e,p,r){for(var i=0,n=p.length,t;i<n;i++)(t||!(i in p))&&(t||(t=Array.prototype.slice.call(p,0,i)),t[i]=p[i]);return e.concat(t||Array.prototype.slice.call(p))}function J(){return{current:0,next:function(){return++this.current}}}function Z(e){var p=J(),r={};return{add:function(i,n){var t=n??"".concat(p.next(),"_").concat(e);return r[t]=i,t},resolve:function(i,n,t){var s=r[i];s&&(t(n)?s.resolve(n):s.reject(n),r[i]=null)}}}function $(e,p,r){var i=Z(r);return p(function(n){if(!(!n.detail||!n.detail.data||typeof n.detail.data!="object")&&"request_id"in n.detail.data){var t=n.detail.data,s=t.request_id,u=L(t,["request_id"]);s&&i.resolve(s,u,function(d){return!("error_type"in d)})}}),function(t,s){return s===void 0&&(s={}),new Promise(function(u,d){var o=i.add({resolve:u,reject:d},s.request_id);e(t,g(g({},s),{request_id:o}))})}}function Y(){var e=36,p=2,r=3;return Math.random().toString(e).substring(p,p+r)}var v=typeof window<"u",S=!!(v&&window.AndroidBridge),w=!!(v&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),h=!!(v&&window.ReactNativeWebView&&typeof window.ReactNativeWebView.postMessage=="function"),A=v&&!S&&!w,Q=A&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),X=A&&!Q,T=A?"message":"VKWebAppEvent",ee=O(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile","VKWebAppGetFriends"],X?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"]),V,K=v?window.AndroidBridge:void 0,b=w?window.webkit.messageHandlers:void 0,I=A?parent:void 0;function te(e){var p=void 0,r=[],i=Y();function n(a,c){K&&K[a]?K[a](JSON.stringify(c)):b&&b[a]&&typeof b[a].postMessage=="function"?b[a].postMessage(c):h?window.ReactNativeWebView.postMessage(JSON.stringify({handler:a,params:c})):I&&typeof I.postMessage=="function"&&I.postMessage({handler:a,params:c,type:"vk-connect",webFrameId:p,connectVersion:e},"*")}function t(a){r.push(a)}function s(a){var c=r.indexOf(a);c>-1&&r.splice(c,1)}function u(a){return S?!!(K&&typeof K[a]=="function"):w?!!(b&&b[a]&&typeof b[a].postMessage=="function"):A?ee.includes(a):!1}function d(a){return console.warn("bridge.supports method is deprecated. Use bridge.supportsAsync instead."),u(a)}function o(){return w||S}function l(){return A&&window.parent!==window}function W(){return o()||l()}function j(){return!W()}function m(a){if(w||S)return O([],r).map(function(y){return y.call(null,a)});var c=a?.data;if(!(!A||!c)){if(h&&typeof c=="string")try{c=JSON.parse(c)}catch{}var f=c.type,F=c.data,G=c.frameId;if(f){if(f==="VKWebAppSettings"){p=G;return}O([],r).map(function(y){return y({detail:{type:f,data:F}})})}}}h&&/(android)/i.test(navigator.userAgent)?document.addEventListener(T,m):typeof window<"u"&&"addEventListener"in window&&window.addEventListener(T,m);var E=$(n,t,i);function q(a){return z(this,void 0,void 0,function(){var c;return U(this,function(f){switch(f.label){case 0:if(S||w)return[2,u(a)];if(V)return[2,V.has(a)];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,E("SetSupportedHandlers")];case 2:return c=f.sent(),V=new Set(c.supportedHandlers),[3,4];case 3:return f.sent(),V=new Set(["VKWebAppInit"]),[3,4];case 4:return[2,V.has(a)]}})})}return t(function(a){if(a.detail)switch(a.detail.type){case"SetSupportedHandlers":V=new Set(a.detail.data.supportedHandlers)}}),{send:E,sendPromise:E,subscribe:t,unsubscribe:s,supports:d,supportsAsync:q,isWebView:o,isIframe:l,isEmbedded:W,isStandalone:j}}var ne="2.15.9",B;(function(e){e.REWARD="reward",e.INTERSTITIAL="interstitial"})(B||(B={}));var N;(function(e){e.RESIZE="resize",e.OVERLAY="overlay"})(N||(N={}));var C;(function(e){e.TOP="top",e.BOTTOM="bottom"})(C||(C={}));var k;(function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center"})(k||(k={}));var M;(function(e){e.COMPACT="compact",e.REGULAR="regular"})(M||(M={}));var x;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(x||(x={}));var D;(function(e){e.CAMERA="camera",e.LOCATION="location",e.PHOTO="photo"})(D||(D={}));var H;(function(e){e.RU="ru",e.UK="uk",e.UA="ua",e.EN="en",e.BE="be",e.KZ="kz",e.PT="pt",e.ES="es"})(H||(H={}));var R;(function(e){e.ADMIN="admin",e.EDITOR="editor",e.MEMBER="member",e.MODER="moder",e.NONE="none"})(R||(R={}));var P;(function(e){e.DESKTOP_WEB="desktop_web",e.DESKTOP_WEB_MESSENGER="desktop_web_messenger",e.DESKTOP_APP_MESSENGER="desktop_app_messenger",e.MOBILE_WEB="mobile_web",e.MOBILE_ANDROID="mobile_android",e.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",e.MOBILE_IPHONE="mobile_iphone",e.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",e.MOBILE_IPAD="mobile_ipad"})(P||(P={}));var _=te(ne);console.log("bridge: ",_);console.log(123);const re=document.getElementById("authButton"),ie=document.getElementById("tokenContainer");_.send("VKWebAppInit",{}).then(()=>{console.log("VK Bridge initialized")}).catch(e=>{console.error("VK Bridge initialization error:",e)});const oe=_.isWebView();console.log("res: ",oe);re.addEventListener("click",async()=>{console.log("click");const e=await _.send("VKWebAppGetAuthToken",{app_id:54284642,scope:"groups,wall"});ie.textContent="Access Token:    "+e.access_token,console.log("Access Token:",e.access_token);const p=e.access_token,n=await(await fetch(`https://ten-teams-take.loca.lt/api/user?token=${p}`)).json();console.log("data: ",n)});
